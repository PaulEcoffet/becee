{% extends "main_layout.html.twig" %}
{% block title %}Redirection{% endblock %}

{% block head %}
<meta http-equiv="refresh" content="4; URL={{ path(page.path) }}">
{{ parent() }}
{% endblock %}

{% block content %}
        <div class="container-fluid" style="    
    max-width: 1100px;
    height: 0;
    background-color: red;

    position: absolute;
    top:-45%;
    bottom: 0;
    left: 0;
    right: 0;

    margin: auto;">
            <div class="row" id="center-row" style="max-width:800px;margin:auto">
                <div id="main" class="col-md-12">
                    <div class="panel">
                        <div class="panel-heading"></div>
                        <div class="panel-body">
                             <p><span style="line-height: 18px; vertical-align:middle;">{{ page.info }}</span></p><hr/>
                            <span style="line-height: 9px; vertical-align:middle; font-weight:300">Please wait <strong><span id='compteur'>4</span></strong> secondes, you'll be redirected.</span></p>
                        </div>
                    </div><!-- end panel panel-info -->
                </div><!-- end col-md-12-->
            </div><!-- end row -->
        </div>
{% block script %}
    <script type="text/javascript">
            window.onload = Init;
            var waitTime = 4;
            var url = '{{ path(page.path) }}';    
            var x;
            function Init() {
                    window.document.getElementById('compteur').innerHTML = waitTime;
                    x = window.setInterval('Decompte()', 1000);
            }
            function Decompte() {
                    ((waitTime > 0)) ? (window.document.getElementById('compteur').innerHTML = --waitTime) : (window.clearInterval(x));
                    if (waitTime == 0) {
                            window.location = url;
                    }
            }
    </script>
{% endblock %}
{% endblock %}